@model IEnumerable<jobsite.Models.JobApplication>

@{
    ViewData["Title"] = "Index";
}

<h1>My Applications</h1>

<div>
    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
            <a class="nav-link active" id="active-tab" data-toggle="tab" href="#active" role="tab" aria-controls="active" aria-selected="true">Active</a>
        </li>

        <li class="nav-item" role="presentation">
            <a class="nav-link" id="archived-tab" data-toggle="tab" href="#archived" role="tab" aria-controls="archived" aria-selected="false">Archived</a>
        </li>
    </ul>


    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="active" role="tabpanel" aria-labelledby="active-tab">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Job Title</th>
                        <th scope="col">Application Status</th>
                        @*<th scope="col">Candidate ID</th>*@
                        <th scope="col">Application Date</th>
                        <th scope="col">Link to Candidate Application</th>
                        <th scope="col">DownLoad CV</th>
                    </tr>
                </thead>
                @foreach (var x in Model)
                {
                    if (x.AppStatus != AppStatus.NotSelected)
                    {


                        <tbody>
                            <tr>
                                <td>@x.JobPost.Title</td>
                                <td>@x.AppStatus</td>
                                <td>@x.AppDate</td>
                                <td><a asp-controller="JobApplications" asp-action="Details" asp-route-id="@x.Id">Show job Application</a></td>
                                <td><a asp-controller="JobApplications" asp-action="DownloadCV" asp-route-id="@x.CVId">@x.CV.Title</a></td>
                            </tr>
                        </tbody>

                    }
                }
            </table>
        </div>
        <div class="tab-pane fade" id="archived" role="tabpanel" aria-labelledby="archived-tab">

            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Job Title</th>
                        <th scope="col">Application Status</th>
                        @*<th scope="col">Candidate ID</th>*@
                        <th scope="col">Application Date</th>
                        <th scope="col">Link to Candidate Application</th>
                        <th scope="col">DownLoad CV</th>

                    </tr>
                </thead>
                @foreach (var y in Model)
                {
                    if (y.AppStatus == AppStatus.NotSelected)
                    {

                        <tbody>
                            <tr>
                                <td>@y.JobPost.Title</td>
                                <td>@y.AppStatus</td>
                                <td>@y.AppDate</td>
                                <td><a asp-controller="JobApplications" asp-action="Details" asp-route-id="@y.Id">Show job Application</a></td>
                                <td><a asp-controller="JobApplications" asp-action="DownloadCV" asp-route-id="@y.CVId">@y.CV.Title</a></td>
                            </tr>
                        </tbody>

                    }
                }
            </table>

        </div>
    </div>
</div>


